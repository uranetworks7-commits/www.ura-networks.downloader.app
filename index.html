<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>URA Downloading Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* *** Fireworks Canvas Style *** */
    #fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; 
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Poppins", sans-serif;
      /* Background is kept, but fireworks will overlay it */
      background: url("https://files.catbox.moe/e3jk7c.jpg") no-repeat center center/cover;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      /* Align the content back to the center */
      align-items: center; 
      text-align: center;
      /* Removed padding-bottom */
    }
    .glass {
      /* z-index > -1 is crucial to ensure the glass panel is visible above the fireworks canvas */
      z-index: 10; 
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 30px 20px;
      width: 95%;
      max-width: 600px;
      color: #fff;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
      animation: fadeIn 1s ease-in-out;
    }
    h1 {
      font-size: 2.5em;
      margin-bottom: 30px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 0 3px 10px rgba(0,0,0,0.6);
    }
    .small-heading {
      font-size: 1.5em;
    }
    .btn {
      display: block;
      width: 100%;
      margin: 15px 0;
      /* Reduced padding and font-size to make the button smaller */
      padding: 15px;
      font-size: 1.1em;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(135deg, #ff416c, #ff4b2b);
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(255, 65, 108, 0.6);
    }
    .btn:hover {
      transform: scale(1.08);
      background: linear-gradient(135deg, #ff4b2b, #ff416c);
      box-shadow: 0 8px 25px rgba(255, 65, 108, 0.8);
    }
    img {
      max-width: 100%;
      border-radius: 20px;
      margin: 20px 0;
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    }
    p {
      font-size: 1.2em;
      margin: 15px 0;
      font-weight: 500;
    }
    .countdown {
      font-size: 1.5em;
      margin-top: 15px;
      font-weight: 700;
      color: #ffd700;
      text-shadow: 0 0 10px #ffd700;
      animation: pulse 1s infinite;
    }
    .hidden {
      display: none;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(-20px);}
      to {opacity: 1; transform: translateY(0);}
    }
    @keyframes pulse {
      0% {opacity: 1;}
      50% {opacity: 0.6;}
      100% {opacity: 1;}
    }
    /* Style for the new button to make it stand out */
    .beta-btn {
        background: linear-gradient(135deg, #00d2ff, #3a7bd5) !important;
        box-shadow: 0 6px 20px rgba(58, 123, 213, 0.6) !important;
    }
    .beta-btn:hover {
        background: linear-gradient(135deg, #3a7bd5, #00d2ff) !important;
        box-shadow: 0 8px 25px rgba(58, 123, 213, 0.8) !important;
        transform: scale(1.08);
    }
    /* Style for the new Diwali Edition button */
    .diwali-btn {
        background: linear-gradient(135deg, #ff7e5f, #feb47b) !important; /* Orange/Gold gradient */
        box-shadow: 0 6px 20px rgba(255, 126, 95, 0.6) !important;
    }
    .diwali-btn:hover {
        background: linear-gradient(135deg, #feb47b, #ff7e5f) !important;
        box-shadow: 0 8px 25px rgba(255, 126, 95, 0.8) !important;
        transform: scale(1.08);
    }
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>

  <div class="glass" id="mainMenu">
    <h1 class="small-heading">𝚄𝚁𝙰 𝙵𝚒𝚕𝚎𝚜 (15/10/25)</h1>
    <button class="btn diwali-btn" onclick="openPage('diwali')">📱𝙳𝚘𝚠𝚗𝚕𝚘𝚊𝚍 𝚄𝚁𝙰-𝙿𝚛𝚘 𝙳𝚒𝚠𝚊𝚕𝚒 𝙴𝚍𝚒𝚝𝚒𝚘𝚗 </button>
    <button class="btn beta-btn" onclick="openPage('beta')">📱 𝙳𝚒𝚠𝚊𝚕𝚒 𝙴𝚍𝚒𝚝𝚒𝚘𝚗 𝙱𝚎𝚝𝚊 𝟹𝟸 & 𝟼𝟺 𝚋𝚒𝚝 APK </button>
  </div>

  <div class="glass hidden" id="downloadPage">
    <h1 id="pageTitle">Download</h1>
    <img id="previewImg" src="" alt="Preview">
    <p id="desc"></p>
    <button class="btn" onclick="startDownload()">📁GEᑎEᖇᗩTE ᗪOᗯᑎᒪOᗩᗯᑎᒪOᗩᗪ ᒪIᑎK</button>
    <p class="countdown hidden" id="countdown"></p>
    <button class="btn" style="background: linear-gradient(135deg,#00c6ff,#0072ff);" onclick="goBack()">Ｂａｃｋ </button>
  </div>

  <script>
    let currentLink = "";

    function openPage(type) {
      document.getElementById("mainMenu").classList.add("hidden");
      document.getElementById("downloadPage").classList.remove("hidden");

      if (type === "diwali") { // New option for Diwali Edition
        document.getElementById("pageTitle").innerText = "𝙳𝚒𝚠𝚊𝚕𝚒 𝙴𝚍𝚒𝚝𝚒𝚘𝚗 𝙰𝙿𝙺";
        document.getElementById("previewImg").src = "https://files.catbox.moe/rmf24j.jpg"; // Placeholder image
        document.getElementById("desc").innerText = "𝙴𝚗𝚓𝚘𝚢 𝚝𝚑𝚎 𝚕𝚊𝚝𝚎𝚜𝚝 𝚄𝚁𝙰-𝙿𝚛𝚘 𝙳𝚒𝚠𝚊𝚕𝚒 𝙴𝚍𝚒𝚝𝚒𝚘𝚗 𝚠𝚒𝚝𝚑 𝚜𝚙𝚎𝚌𝚒𝚊𝚕 𝚏𝚎𝚊𝚝𝚞𝚛𝚎𝚜!";
        // **IMPORTANT**: Replace with the actual Diwali Edition link
        currentLink = "https://www.mediafire.com/file/7tdmdquwwfw4ei4/URA-Pro-Diwali_Edition_x(Both+Screen).apk/file";
      }
      // Beta option (kept as requested)
      else if (type === "beta") {
        document.getElementById("pageTitle").innerText = "𝙱𝙴𝚃𝙰 ᏉᏋᏒᏕᎥᎧᏁ  𝙰𝙿𝙺";
        document.getElementById("previewImg").src = "https://files.catbox.moe/e3jk7c.jpg"; // Using background image as a placeholder
        document.getElementById("desc").innerText = "𝚃𝚑𝚒𝚜 𝚒𝚜 𝙱𝚎𝚝𝚊 𝚅𝚎𝚛𝚜𝚒𝚘𝚗 (𝟹𝟸 & 𝟼𝟺 𝚋𝚒𝚝) 𝚏𝚘𝚛 𝚚𝚞𝚒𝚌𝚔 𝚊𝚗𝚍 𝙻𝚘𝚠 𝙳𝚎𝚟𝚒𝚌𝚎𝚜 ☀";
        currentLink = "https://www.mediafire.com/file/e2eyknpfk8hf1q4/URA-Beta_Diwali_Edition(Beta-32&64bit)_.apk/file";
      }
      // Removed 'full' and 'normal' logic
    }

    function startDownload() {
      const countdownEl = document.getElementById("countdown");
      countdownEl.classList.remove("hidden");
      let timeLeft = 3;
      countdownEl.innerText = "𝙶𝚎𝚗𝚎𝚛𝚊𝚝𝚒𝚗𝚐 𝙻𝚒𝚗𝚔 🔗" + timeLeft + "s";

      let timer = setInterval(() => {
        timeLeft--;
        if (timeLeft > 0) {
          countdownEl.innerText = "𝙶𝚎𝚗𝚎𝚛𝚊𝚝𝚒𝚗𝚐 𝙻𝚒𝚗𝚔 " + timeLeft + "s";
        } else {
          clearInterval(timer);
          countdownEl.innerText = "𝓡𝓮𝓭𝓲𝚛𝚎𝚌𝚝𝓲𝚗𝓰";
          window.open(currentLink, "_blank");
        }
      }, 1000);
    }

    function goBack() {
      document.getElementById("downloadPage").classList.add("hidden");
      document.getElementById("mainMenu").classList.remove("hidden");
    }
  </script>

  <script>
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    let cw = window.innerWidth;
    let ch = window.innerHeight;
    canvas.width = cw;
    canvas.height = ch;

    const colors = ["#ff5722", "#2196f3", "#4caf50", "#ffc107", "#ffffff", "#e91e63", "#673ab7"];

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    // --- Particle Class ---
    class Particle {
      constructor(x, y, color, speedScale = 1, sizeScale = 1, heavy = false) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.size = random(0.5, 2.5) * sizeScale;
        this.angle = random(0, Math.PI * 2);
        // ✨ INCREASED SPEED for normal particles
        this.speed = random(1, 10) * speedScale; 
        this.gravity = heavy ? 0.2 : 0.08; // Heavy particles fall faster
        this.alpha = 1;
        this.decay = random(0.02, 0.05); 
      }
      update() {
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed + this.gravity;
        this.speed *= 0.95; 
        this.alpha -= this.decay;
      }
      draw() {
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.globalAlpha = 1; 
      }
    }

    // --- Base Firework Class (For normal fireworks) ---
    class Firework {
      constructor() {
        this.x = random(cw * 0.3, cw * 0.7); 
        this.y = ch;
        this.initialY = ch;
        // Target Y is in the upper half of the screen (10% to 40% down)
        this.targetY = random(ch * 0.1, ch * 0.4); 
        // ✨ INCREASED ASCENT SPEED
        this.speed = random(8, 15); 
        this.color = colors[Math.floor(random(0, colors.length - 2))]; 
        this.trail = [];
        this.exploded = false;
        this.vibrating = false;
        this.vibrationCounter = 0;
        this.vibrationDuration = 10; // Frames to vibrate
      }
      
      update() {
        if (this.exploded) return;

        if (!this.vibrating) {
          // Normal Ascent
          this.trail.push({ x: this.x, y: this.y });
          if (this.trail.length > 15) this.trail.shift(); 
          this.y -= this.speed;
          this.speed *= 0.99;

          if (this.y <= this.targetY) {
            this.vibrating = true;
          }
        } else {
          // Pre-Explosion Vibration Logic
          if (this.vibrationCounter < this.vibrationDuration) {
            // Vibrate left and right quickly
            this.x += Math.sin(this.vibrationCounter * 3) * 0.8; 
            this.vibrationCounter++;
          } else {
            this.explode();
          }
        }
      }

      draw() {
        if (this.exploded) return;
        
        // Draw Tip
        ctx.fillStyle = '#fff';
        ctx.beginPath();
        ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2, false);
        ctx.fill();

        // Draw Trail
        ctx.beginPath();
        ctx.strokeStyle = this.color;
        ctx.lineWidth = 1;
        for (let i = this.trail.length - 1; i > 0; i--) {
          const p = this.trail[i];
          const nextP = this.trail[i - 1];
          ctx.globalAlpha = (i / this.trail.length) * 0.6;
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(nextP.x, nextP.y);
          ctx.stroke();
        }
        ctx.globalAlpha = 1;
      }

      explode() {
        this.exploded = true;
        const burstColor = this.color;
        const particleCount = Math.floor(random(60, 100)); 

        for (let i = 0; i < particleCount; i++) {
          const particleColor = Math.random() < 0.6 ? burstColor : colors[Math.floor(random(0, colors.length))];
          particles.push(new Particle(this.x, this.y, particleColor));
        }
      }
    }

    // --- Nuclear Firework Class (The Big Shot) ---
    class NuclearFirework extends Firework {
      constructor() {
        super(); // Inherit basic properties
        this.x = cw / 2; // Always launch from the center
        this.y = ch;
        // Target Y is even higher (10% to 30% down)
        this.targetY = random(ch * 0.1, ch * 0.3); 
        // ✨ INCREASED ASCENT SPEED
        this.speed = random(6, 10); // Slower, heavier ascent
        this.color = '#ff4500'; // Deep orange/red for a massive explosion
        this.vibrationDuration = 20; // Longer vibration
      }

      update() {
        if (this.exploded) return;

        if (!this.vibrating) {
          // Heavy Ascent
          this.y -= this.speed;
          this.speed *= 0.998; // Slower speed decay
          
          // Add very bright, heavy sparks to the trail
          if (Math.random() < 0.5) {
              particles.push(new Particle(this.x, this.y, '#ffd700', 1, 2, true)); // Gold sparks, heavy
          }

          // Add segment to the main trail
          this.trail.push({ x: this.x, y: this.y });
          if (this.trail.length > 50) this.trail.shift(); // Very long, heavy trail

          if (this.y <= this.targetY) {
            this.vibrating = true;
          }
        } else {
          // Vibrate Logic (same as base class, but longer duration)
          if (this.vibrationCounter < this.vibrationDuration) {
            this.x += Math.sin(this.vibrationCounter * 2) * 2.5; // Stronger vibration
            this.vibrationCounter++;
          } else {
            this.explode();
          }
        }
      }

      draw() {
        if (this.exploded) return;
        
        // Draw HUGE Tip
        ctx.fillStyle = '#fff';
        ctx.shadowBlur = 15;
        ctx.shadowColor = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, 4, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.shadowBlur = 0; // Reset shadow

        // Draw Trail (Very thick and bright)
        ctx.beginPath();
        ctx.strokeStyle = this.color;
        ctx.lineWidth = 5;
        for (let i = this.trail.length - 1; i > 0; i--) {
          const p = this.trail[i];
          const nextP = this.trail[i - 1];
          ctx.globalAlpha = (i / this.trail.length) * 1.0;
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(nextP.x, nextP.y);
          ctx.stroke();
        }
        ctx.globalAlpha = 1;
      }

      explode() {
        this.exploded = true;
        const particleCount = Math.floor(random(400, 600)); // Massive particle count

        for (let i = 0; i < particleCount; i++) {
          let particleColor;
          if (Math.random() < 0.2) {
            particleColor = '#fffaaa'; // Bright white/yellow core
          } else if (Math.random() < 0.6) {
            particleColor = this.color; // Deep orange
          } else {
            particleColor = colors[Math.floor(random(0, colors.length))];
          }
          
          // ✨ SIGNIFICANTLY INCREASED EXPLOSION SPEED
          particles.push(new Particle(this.x, this.y, particleColor, random(2.5, 4.5), random(1.5, 3), true)); 
        }
      }
    }

    let fireworks = [];
    let particles = [];

    function animate() {
      // Clear the canvas with a very subtle trail
      ctx.globalCompositeOperation = "destination-out";
      ctx.fillStyle = "rgba(0, 0, 0, 0.08)"; // Creates the trail effect on the black background
      ctx.fillRect(0, 0, cw, ch);
      ctx.globalCompositeOperation = "lighter"; // Essential for the glow

      // --- Update and Draw ---
      for (let i = fireworks.length - 1; i >= 0; i--) {
        const firework = fireworks[i];
        firework.update();
        firework.draw();
        if (firework.exploded) {
          fireworks.splice(i, 1);
        }
      }

      for (let i = particles.length - 1; i >= 0; i--) {
        const particle = particles[i];
        particle.update();
        particle.draw();
        if (particle.alpha <= 0) {
          particles.splice(i, 1);
        }
      }

      // 🚀 INCREASED FREQUENCY for Normal Fireworks: 0.01 -> 0.03 (Tripled)
      if (Math.random() < 0.03) { 
        fireworks.push(new Firework());
      }

      requestAnimationFrame(animate);
    }

    // 💥 INCREASED FREQUENCY for Nuclear Fireworks: 5000ms -> 3000ms
    setInterval(() => {
      fireworks.push(new NuclearFirework());
    }, 3000); // Launches a Nuclear Firework every 8000ms (8 seconds)

    animate();

    window.addEventListener("resize", () => {
      cw = window.innerWidth;
      ch = window.innerHeight;
      canvas.width = cw;
      canvas.height = ch;
    });
  </script>
</body>
</html>
